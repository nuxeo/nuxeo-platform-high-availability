<?xml version="1.0"?>

<component name="org.nuxeo.ecm.platform.heartbeat">

  <service>
    <provide interface="org.nuxeo.ecm.platform.heartbeat.api.HeartbeatManager" />
  </service>

  <documentation>
    Server heartbeat service framework. Framework for accessing to running nuxeo server in a cluster using heartbeat
    @author
    <a href="mailto:stan@nuxeo.com">Sun Seng David TAN</a>
  </documentation>

  <implementation class="org.nuxeo.ecm.platform.heartbeat.core.HeartbeatComponent" />

  <extension target="org.nuxeo.ecm.core.schema.TypeService" point="doctype">
  
    <doctype name="HeartbeatRoot" extends="Folder">
      <schema name="common" />
      <schema name="dublincore" />
      <facet name="HiddenInNavigation" />
    </doctype>

    <doctype name="ServerRoot" extends="Folder">
      <schema name="common" />
      <schema name="dublincore" />
      <facet name="HiddenInNavigation" />
    </doctype>
    
    <doctype name="Heartbeat" extends="Document">
      <schema name="heartbeat" />
      <schema name="common" />
      <schema name="dublincore" />
    </doctype>
    
  </extension>

  <extension target="org.nuxeo.ecm.core.schema.TypeService" point="schema">
    <schema name="heartbeat" src="schemas/heartbeat.xsd" />
  </extension>

 <extension target="org.nuxeo.ecm.core.management.CoreManagementComponent" point="storageHandlers">
  <handler id="heartbeat" class="org.nuxeo.ecm.platform.heartbeat.core.HeartbeatInitializationHandler"/>
 </extension>
 
</component>